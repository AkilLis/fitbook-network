!function(e,a){function n(n,i){n=e(n);var o=n.is("body"),r=n.data("LoadingOverlayCount");if(r===a&&(r=0),0==r){var s=e("<div>",{"class":"loadingoverlay",css:{"background-color":i.color,display:"flex","z-index":"9999","flex-direction":"column","align-items":"center","justify-content":"center"}});if(i.image&&s.css({"background-image":"url("+i.image+")","background-position":"center center","background-repeat":"no-repeat"}),i.fontawesome&&e("<div>",{"class":"loadingoverlay_fontawesome "+i.fontawesome}).appendTo(s),i.custom&&e(i.custom).appendTo(s),o?s.css({position:"fixed",top:0,left:0,width:"100%",height:"100%"}):(s.css({position:"absolute",top:0,left:0}),"static"==n.css("position")&&s.css({top:n.position().top+parseInt(n.css("margin-top"))+parseInt(n.css("border-top-width")),left:n.position().left+parseInt(n.css("margin-left"))+parseInt(n.css("border-left-width"))})),t(n,s,i,o),i.resizeInterval>0){var d=setInterval(function(){t(n,s,i,o)},i.resizeInterval);n.data("LoadingOverlayResizeIntervalId",d)}i.fade?i.fade===!0?i.fade=[400,200]:("string"==typeof i.fade||"number"==typeof i.fade)&&(i.fade=[i.fade,i.fade]):i.fade=[0,0],n.data("LoadingOverlayFadeOutDuration",i.fade[1]),s.hide().appendTo(n).fadeIn(i.fade[0])}r++,n.data("LoadingOverlayCount",r)}function i(n,i){n=e(n);var t=n.data("LoadingOverlayCount");if(t!==a)if(t--,i||0>=t){var o=n.data("LoadingOverlayResizeIntervalId");o&&clearInterval(o),n.children(".loadingoverlay").fadeOut(n.data("LoadingOverlayFadeOutDuration"),function(){e(this).remove()}),n.removeData(["LoadingOverlayCount","LoadingOverlayFadeOutDuration","LoadingOverlayResizeIntervalId"])}else n.data("LoadingOverlayCount",t)}function t(a,n,i,t){t||n.css({width:a.innerWidth(),height:a.innerHeight()});var o="auto";if(i.size&&"auto"!=i.size){var r=t?e(window):a;o=Math.min(r.innerWidth(),r.innerHeight())*parseFloat(i.size)/100,i.maxSize&&o>parseInt(i.maxSize)&&(o=parseInt(i.maxSize)+"px"),i.minSize&&o<parseInt(i.minSize)&&(o=parseInt(i.minSize)+"px")}n.css("background-size",o),n.children(".loadingoverlay_fontawesome").css("font-size",o)}var o={color:"rgba(255, 255, 255, 0.8)",custom:"",fade:!0,fontawesome:"",image:"loading.gif",maxSize:"30px",minSize:"20px",resizeInterval:0,size:"50%"};e.LoadingOverlaySetup=function(a){e.extend(!0,o,a)},e.LoadingOverlay=function(a,t){switch(a.toLowerCase()){case"show":var r=e.extend(!0,{},o,t);n("body",r);break;case"hide":i("body",t)}},e.fn.LoadingOverlay=function(a,t){switch(a.toLowerCase()){case"show":var r=e.extend(!0,{},o,t);return this.each(function(){n(this,r)});case"hide":return this.each(function(){i(this,t)})}}}(jQuery);